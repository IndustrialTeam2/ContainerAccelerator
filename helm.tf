provider "helm" {
    kubernetes {
      host = module.eks.cluster_endpoint
      cluster_ca_certificate = base64decode(module.eks.cluster_certificate_authority_data)

    
    exec {
      api_version = "client.authentication.k8s.io/v1beta1"
      command     = "aws"
      # This requires the awscli to be installed locally where Terraform is executed
      args = ["eks", "get-token", "--cluster-name", module.eks.cluster_name]
    }
    }
  /*
    registry {
      url = "oci://public.ecr.aws"
      username = "AWS"
      password = "eyJwYXlsb2FkIjoiR044a1dJVFppeis0VGllWVlKQWtXdjMwdlBHZUVrcDFJdjdBQmVsaXJubTRxNE1mS0s1Z0FNbTNaQm1TWFJ5dEJlaHVjVloyNmhSWFBuTVFvOGJUczkvdW9kN0ZqcGRYdmEwTndCRzZyQ0w1Wm5OTTZaWjU4S2svYkFMbnFvNzViMEtDSWJiZlF5N05yRnVxbnhwUW9adGFSb1M0cUUrZjUxa3Y3ZHJvS0FETjBUVXl1SzByeEdnWHpJRXduZnJrcHFDcEx3ZkFpdlFhVTgxczBpSTY2Y2kxdWFZUUZDL2kwZ1IxNHBYeDdRTkhBMml4SUp1Q09PSk5UcGo3VjIxaVA5N0g0NzBBaW82RGl2L2pRUDBoWHlYMForaFlkeHVReXdnRnlUNFhiclkxR3lkR3YvR3FBZFZXb29FTE80eFIzNHhTczRSc0xlZFl3ekVNMmc0RDRva1JrblVpSnB3akRPT29mVXZjNW5JVmdXemVQY1FielFxMHFCUmsxNWQ5bWdTMkZlQTR3UGF0U21hc1ZTay9FVWk1aDVOVVhhbithUjZaUUpHVzlSclhNenlEUXBZVlIyV3JnTWNBNkJaOGk2ZUcwRWtra0VhVmtoUGFPYlZuVGtMckoxQlJ5cExWM3NnTEJXdWp4SFlBWnhwcFlPZ1JSQitUVDNFb0JMcDFUVmNVRElDMUE5OWdQaGl0SG5QQThUUXg0bDN5OVZ0dC9LZDJoVnp3S2pUSmVKT1lHTmdKV1p5TDhzcFgrSjNFdlp5Q3hoOWRXZHdKYkE4R2NLL0djY3ppLzNBTytHWVgzNitsYnM1Snh3Z1gxMkZpU21DS1BZcDIxYnY2enA5UzhSNnExOG9EYkVjSlNwQU0raFRnZllvblR1V0QrWDZoQ2p1Q00xay9vM0dLTVlvSzVnRmNVdmlUdXd0NTRGQ3gzQWdSU3NkU2hTK2dGa3VGVW9TcVVlTStSTG1LNHBET2w1cUNPelRtMThHQXJETlg4eGxjZUdUOUk3Uld5cDdGcWxrdmh3cndZUTlEbGRrVHpJd2c3R3NrZVVvSjdOZDkyY1FXcWtwT2tIUkdCaWxyZTdIN3p6eDJvNWM1UDlQdHMvK1Y4S1JXdVArK2NOdmdMaDFlMERUcWNGbzBXL2VyUGdqL1E0dUcvTHVxaGZiRWJ2eURaZUt6Z3hKWHkzb0J0WkdGVXh2blVES2lCcG5CQmFyRE11ck5ua3ZoOUN1ak11WWFlZTJHb2o3cVF3c1MxODc4RHdUdlR1N01zUkVlak9kSGxiclozaDVYbHNnWHlheE8vTzUvUHBzRkpuc0svQkFJWms2bjZYbFB1Qy9KRS9FTXBTRWVEUTVScWdGUVlKUHI3UEtJa3A3TUZSMWRIWDFTd2l2Yk9lM0oiLCJkYXRha2V5IjoiZXlKUVJGZ2lPaUp0TTNKUU1VdGFNSEJhV213MVV6UkZhVGRQTTFCUVlVcDVibEIwT1c0NVJpOVpNVTlwYlVoRFVHeHJhSGhLT1d3M1MwUktaVVZMU2tKSVNVaHZORTh5VkdOVlpETk5TbFZ5UjFGdFRGZHdlRVpaVGpSWlRtSlFjVkJaU3pobFFtMXhhbEpLUmxSdmJFNUJTbTVPVlhCMlpWUkJlVVZDYW1kdk1ucHRTelo1WkU5MWVHczNSVXhSU0RCR1Fsb3ZaVnBsVTFKRVoyTmhRM3BXTWtkbU1FSk5aRXRaT0dNM05UUTJSRFZ2U2tweVIyNXVOMlpGWmtOMFVYWXhNMWN4VVVGMlYwWktSalJPYkZSdE1raHRUMHQxYVV4YU5sVXdRMjlzTWpaV2FFbHlRbTlrUkRCRVVtUm1OVE52UWpabWFDOU1ia3R2V0ROclNIZHNkbVV4VTNGWlJGRTBSR054TDJkTGVFSkJUM2RZUWxFNFJsRjFjVlpSVXk5aGRISTVVM1JzUlZjNU1WUnNZblkxT0UxSmRFTTVTbGxvU2psMEswRlNPRkF6WVVZd1pWZFFiU3RyYVhWT1dGcEZiVUowTm5WbGRHMDFWVkU5UFNJc0lrbEJSQ0k2SWpORFZtbFdUVk5DTDFwbldXb3pTRVEzVm5scVVTdHJXVkZtWVZwVE1FOTRWakp3TTNkeWRISnpTa3hwTWxCdVUwY3laMHA0T0ZKb1kwa3dPVU5GWld4RVVGbDJhbXgwVWxsNk1FOUpXazlGTjJ0Q1NuWlpiRVZtV1c1emRXeFNTRWh0VG1kMlNXSk9WbFZLTkhwd09FTXJjVnB1VW1kRmRtOW9OMk5aVVdJM2FFdFNhV2xUVEhKSk0xVnJOVko0ZFhJNFdFbHVkVEk0WlM5aldubDBPWEJqWm1jd05UaHNXR1p5U2psbldHSldVeTlCVkRGMFdVNWpUMVJMVlZSQ09IQlpkM04yWkhGeVFWcG9UM04zYlZCMlRuY3JTa1JIZUZveE5XOHlZa2h5YzFSWFZ6aHpZak5PY0hkMVkwNXlLMVJLU1dJdlNIWTNOWEZtUmpGdWFVaERaMGR2YW5GWFNqWnJhVzFKWjNkM01FdHJSVWRXVVdoRFNVRnFjbHBOVFdoRGVXNXdSVVZrSzB0M2RHZEVNRTFsWkRSeFYyTlhXamRGT0VOVGFFeFpUa2xyWjFOa1dsVm1ZMDAyV25CSGRrODRWRTFvZHowOUluMD0iLCJ2ZXJzaW9uIjoiMyIsInR5cGUiOiJEQVRBX0tFWSIsImV4cGlyYXRpb24iOjE2OTYxNTQ0NDB9"
    }
    */
}

